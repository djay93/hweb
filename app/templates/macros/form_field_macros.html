{% macro render_text_field(field, kwargs={}) %}
<div class="mb-3">
    <label class="form-label" for="{{ field.id }}">{{ field.label }}</label>
    <input type="text"
           name="{{ field.name }}"
           value="{{ field.data or '' }}"
           id="{{ field.id }}"
           :class="errors['{{ field.name }}'] ? 'form-control is-invalid' : 'form-control'"
           {% if field.render_kw %} 
                {% for attr, value in field.render_kw.items() %}{{ attr }}="{{ value|e }}"{% endfor %} 
           {% endif %}
           {% for attr, value in kwargs.items() %}{{ attr }}="{{ value|e }}"{% endfor %}>
    <div x-cloak 
         x-show="errors?.{{ field.name }}" 
         class="invalid-feedback" 
         style="display: block;" 
         x-text="errors?.{{ field.name }}"></div>
</div>
{% endmacro %}

{% macro render_select_field(field, placeholder='', kwargs={}) %}
<div class="mb-3">
    <label class="form-label" for="{{ field.id }}">{{ field.label }}</label>
    <select name="{{ field.name }}"
            id="{{ field.id }}"
            :class="errors['{{ field.name }}'] ? 'form-select is-invalid' : 'form-select'"
            {% if field.render_kw %} 
                {% for attr, value in field.render_kw.items() %}{{ attr }}="{{ value|e }}"{% endfor %} 
            {% endif %}
            {% for attr, value in kwargs.items() %}{{ attr }}="{{ value|e }}"{% endfor %}>
        <option value="" {% if not field.data %}selected{% endif %}>{{ placeholder or 'Select an option' }}</option>
        {% for option_value, option_label in field.choices %}
            <option value="{{ option_value }}" {% if option_value == field.data %}selected{% endif %}>
                {{ option_label }}
            </option>
        {% endfor %}
    </select>
    <div x-cloak 
         x-show="errors['{{ field.name }}']"
         class="invalid-feedback" 
         style="display: block;" 
         x-text="errors['{{ field.name }}']"></div>
</div>
{% endmacro %}


{% macro render_date_field(field, kwargs={}) %}
<div class="mb-3">
    <label class="form-label" for="{{ field.id }}">{{ field.label }}</label>
    <input type="date"
           name="{{ field.name }}"
           value="{{ field.data or '' }}"
           id="{{ field.id }}"
           :class="errors['{{ field.name }}'] ? 'form-control is-invalid' : 'form-control'"
           {% if field.render_kw %} 
                {% for attr, value in field.render_kw.items() %}{{ attr }}="{{ value|e }}"{% endfor %} 
           {% endif %}
           {% for attr, value in kwargs.items() %}{{ attr }}="{{ value|e }}"{% endfor %}>
    <div x-cloak 
         x-show="errors['{{ field.name }}']" 
         class="invalid-feedback" 
         style="display: block;" 
         x-text="errors['{{ field.name }}']"></div>
</div>
{% endmacro %}


{% macro render_textarea_field(field, kwargs={}) %}
<div class="mb-3">
    <label class="form-label" for="{{ field.id }}">{{ field.label }}</label>
    <textarea name="{{ field.name }}"
              id="{{ field.id }}"
              :class="errors['{{ field.name }}'] ? 'form-control is-invalid' : 'form-control'"
              {% if field.render_kw %} 
                {% for attr, value in field.render_kw.items() %}{{ attr }}="{{ value|e }}"{% endfor %} 
              {% endif %}
              {% for attr, value in kwargs.items() %}{{ attr }}="{{ value|e }}"{% endfor %}>
        {{ field.data or '' }}
    </textarea>
    <div x-cloak 
         x-show="errors['{{ field.name }}']" 
         class="invalid-feedback" 
         style="display: block;" 
         x-text="errors['{{ field.name }}']"></div>
</div>
{% endmacro %}


